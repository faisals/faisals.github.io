# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

# Tufte Personal Site - Claude Code Instructions

## Project Overview
This is a Tufte-inspired personal website generator that creates a beautiful, animated portfolio site from a single `resume.json` file. The site features sophisticated typography, data visualizations, and smooth animations.

## Key Files & Architecture
- **`resume.json`**: Core data file containing all personal/professional information
- **`index-dynamic.html`**: Development template (use this for testing)
- **`index.html`**: Production file (generated by build process)
- **`build.js`**: Build script that validates data and prepares files for deployment
- **`styles.css`**: Main stylesheet with Tufte-inspired typography
- **`animations.js`**: Core animation engine
- **`advanced-animations.js`**: Complex visualization animations
- **`baseline-grid.js`**: Typography alignment tool (CMD+G to toggle)
- **`site-generator.js`**: Dynamic content generation from resume.json

## Important Workflow

### BEFORE Every Git Commit & Push:
**ALWAYS run the build script first:**
```bash
node build.js
```

This command:
- Validates `resume.json` structure and content
- Creates production `index.html` from `index-dynamic.html`
- Generates minified CSS files (`styles.min.css`, `animations.min.css`)
- Copies all necessary files to `dist/` folder
- Reports any validation errors or warnings

### Development Commands
```bash
# Start development server
npm run dev

# Build for production
npm run build

# Serve built files
npm run serve
```

## Project Structure
```
faisals.github.io/
├── resume.json           # Core data file
├── index-dynamic.html    # Development template
├── index.html           # Production file (auto-generated)
├── build.js             # Build & validation script
├── styles.css           # Main styles
├── animations.css       # Animation styles
├── animations.js        # Core animations
├── advanced-animations.js # Complex visualizations
├── baseline-grid.js     # Typography grid tool
├── site-generator.js    # Content generator
├── favicon.ico          # Site icon
├── package.json         # Node.js config
├── CNAME               # Custom domain config
└── dist/               # Production build output
```

## Key Features
- **Data-driven content**: Everything generated from `resume.json`
- **Tufte design principles**: Clean typography, thoughtful spacing
- **Rich animations**: Timeline sparklines, metrics, network graphs
- **Responsive design**: Works on desktop and mobile
- **Performance optimized**: Minified assets, efficient animations

## Common Tasks

### Adding New Content
1. Edit `resume.json` with new information
2. Test changes: `npm run dev` and open `http://localhost:8080`
3. Build for production: `node build.js`
4. Commit and push changes

### Fixing Styling Issues
1. Edit `styles.css` for layout/typography changes
2. Edit `animations.css` for animation-specific styles
3. Run build script to update minified versions
4. Test thoroughly before committing

### Debugging Font/Asset Issues
- Check browser console for 404 errors
- Verify CDN URLs are accessible
- Use JSDelivr CDN for GitHub-hosted fonts
- Run build script to ensure all assets are copied

### Deployment Notes
- Site deploys automatically via GitHub Pages
- Production files are in root directory
- Custom domain configured via `CNAME` file
- Always run build script before deployment

## Validation Rules
The build script validates:
- Required fields in `resume.json` (basics.name, work entries, etc.)
- Proper metric value formats
- Timeline data structure
- JSON syntax validity

## Animation System
- Controlled via `meta.animations` in `resume.json`
- Individual animations can be toggled on/off
- Performance-optimized with RAF and efficient DOM updates
- Respects user's reduced motion preferences

## Typography Features
- ET Book font family (Edward Tufte's choice)
- 12px baseline grid system (toggle with CMD+G)
- Optimized line heights and spacing
- Sidenotes and margin notes support

## Performance Considerations
- Animations use CSS transforms for 60fps performance
- Lazy loading for heavy visualizations
- Minified assets in production
- Optimized for Core Web Vitals

## Timeline Data Structure
- Timeline points in `resume.json` meta.careerTimeline array control visualization order
- Current order: newest-to-oldest (2025 → 2010)
- Each point requires: year, label, value, type fields
- Animation system processes points in array order for display